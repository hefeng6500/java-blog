# 日志

Java 日志是记录应用程序运行时状态和异常信息的一种机制。Java 提供了多个日志框架，包括 Java 自带的 `java.util.logging`、`Log4j`、`Logback` 等。

## java 日志框架发展背景

1. **最初的 System.out.println:** 在 Java 刚开始出现时，开发者通常使用 System.out.println 来输出日志信息。这种方式简单易用，但不够灵活，不能满足大规模应用的需求。

2. **JDK1.4 引入 java.util.logging:** JDK1.4 引入了 `java.util.logging` 框架，该框架提供了更加灵活和可配置的日志功能，可以输出多种级别的日志信息，并支持日志的过滤、格式化、存储等操作。但该框架在使用上较为繁琐，需要编写大量的配置代码。

3. **Log4j 的出现：** Apache Log4j 是一个第三方的 Java 日志框架，它于 2001 年首次发布，提供了更加简单易用、灵活性强的日志功能。Log4j 支持多种输出方式，可以灵活地配置日志的格式和级别，并提供了灵活的过滤器机制。Log4j 很快成为了 Java 开发中最受欢迎的日志框架之一。

4.**SLF4J 和 Logback 的出现：** 由于 Log4j 1.x 版本的性能和稳定性问题，Log4j 开发团队推出了 Log4j 2.x 版本，但该版本在向后兼容性上存在问题，因此 SLF4J（Simple Logging Facade for Java）框架应运而生。SLF4J 提供了一套简单的 API，可以和多种不同的日志实现进行绑定，比如 Log4j、`java.util.logging` 等。同时，Logback 是由 Log4j 的原始开发者 Ceki Gülcü 开发的一款新的日志框架，它提供了高性能、可靠性强、灵活易用的日志功能，目前已经成为了 SLF4J 的默认实现。

5. **JDK1.4 引入 j.u.l 和 JDK9 引入 j.u.l.Loggers：** 随着 JDK1.4 引入了 `java.util.logging`，开发人员可以直接使用 JDK 自带的日志框架，而不需要引入其他第三方库。JDK 9 中引入了 j.u.l.Loggers 支持对 logger 配置的缩小作用范围。这些功能的引入使得 j.u.l 成为一个更为强大和灵活的日志框架。

## Logback 日志框架

https://logback.qos.ch

Logback 是由 Log4j 的原始开发者 Ceki Gülcü 开发的一款 Java 日志框架，它是 SLF4J 的默认实现。Logback 可以作为 Log4j 的替代品，提供了高性能、可靠性强、灵活易用的日志功能。

Logback 框架包括三个组件：

| 组件名称        | 功能描述                                                                                                            |
| --------------- | ------------------------------------------------------------------------------------------------------------------- |
| logback-core    | 日志框架的核心组件，提供了日志输出的基本功能，比如日志级别、格式化等。                                              |
| logback-classic | 基于 logback-core 开发的组件，提供了和 Log4j 兼容的 API，并且可以通过配置文件或编程方式对日志输出进行细粒度的控制。 |
| logback-access  | 提供了对 HTTP 请求的日志记录，可以记录访问时间、访问者 IP 等信息。                                                  |

Logback 具有以下特点：

- 高性能：Logback 使用异步日志记录，可以减少日志输出对应用程序的影响。同时，Logback 还支持条件日志记录，可以根据需要选择是否记录日志。

- 灵活易用：Logback 支持多种输出方式，比如控制台、文件、邮件等。同时，Logback 可以通过配置文件或编程方式对日志输出进行细粒度的控制。

- 可靠性强：Logback 可以在运行时动态改变日志配置，同时还提供了失败重试、日志备份等机制，可以保证日志记录的可靠性
